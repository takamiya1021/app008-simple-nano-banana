# nano-banana

シンプルで使いやすいAI画像生成ツール。Gemini 2.5 Flash Image APIを使用してテキストプロンプトと参考画像から高品質な画像を生成します。

![nano-banana スクリーンショット](https://github.com/takamiya1021/app002a-simple-nano-banana/blob/main/screenshot.png)

## 🚀 主要機能

### 🔑 API設定
- **APIキー管理**: Gemini APIキーの設定・保存
- **設定状態表示**: APIキー設定済みの視覚的確認
- **自動読み込み**: 次回起動時の設定復元

### ✏️ プロンプト入力
- **テキストエリア**: 生成したい画像の詳細な説明入力
- **文字数カウンター**: リアルタイム文字数表示（最大500文字）
- **履歴機能**: 過去のプロンプトの再利用（最大20件保存）

### 🖼️ 参考画像
- **ドラッグ&ドロップ**: 簡単な画像ファイル選択
- **プレビュー表示**: アップロード画像の確認
- **ファイル削除**: 不要な画像の簡単削除
- **AI連携**: 参考画像をGemini APIに送信して画像生成に活用

### 🎨 画像生成
- **Gemini API連携**: 実際のAI画像生成（テキスト＋参考画像対応）
- **マルチモーダル**: テキストプロンプトと参考画像の組み合わせ
- **高品質出力**: HD品質、PNG形式での画像生成
- **ダウンロード**: 生成画像の保存機能
- **再生成**: 同じ設定での再実行

## 🛠️ 技術仕様

### フロントエンド
- **HTML5**: セマンティックな構造
- **CSS3**: モダンUI、レスポンシブデザイン、アニメーション
- **JavaScript (ES6+)**: クラスベース、非同期処理、DOM操作

### API連携
- **Gemini 2.5 Flash Image**: Google製の最新画像生成AI
- **マルチモーダル入力**: テキストプロンプト + 参考画像の同時送信
- **Base64エンコーディング**: 画像データの安全な送信
- **Fetch API**: RESTful API通信
- **エラーハンドリング**: 堅牢なエラー処理

### データ管理
- **LocalStorage**: 設定・履歴の永続化
- **Base64エンコード**: 画像データ処理

## 🚀 使用方法

### 1. セットアップ
1. [Google AI Studio](https://makersuite.google.com/app/apikey)でAPIキーを取得
2. アプリケーションの「API設定」にキーを入力して保存
3. 「✓ 設定済み」バッジが表示されれば準備完了

### 2. 画像生成
1. **プロンプト入力**: 生成したい画像を詳しく説明
   - 例: "美しい夕焼けの海岸、波が静かに打ち寄せる風景"
2. **参考画像** (オプション): ドラッグ&ドロップで画像を追加
   - 参考画像とプロンプトの両方がAIに送信され、画像生成に活用されます
3. **生成開始**: ボタンをクリックして生成実行
4. **結果確認**: 生成された画像を確認・ダウンロード

### 3. 便利機能
- **履歴活用**: 過去のプロンプトをセレクトボックスから選択
- **再生成**: 気に入らない結果は「再生成」で再実行
- **設定リセット**: 「設定リセット」で全データを初期化

## 💡 使用のコツ

### 効果的なプロンプト
- **具体的な描写**: 色、光、質感を詳細に記述
- **スタイル指定**: "水彩画風"、"写実的"などのスタイル追加
- **構図指定**: "クローズアップ"、"鳥瞰図"などの視点指定

### 例文
```
美しい桜並木、満開の花びらが風に舞う春の公園、
暖かい陽光が差し込む午後、水彩画風
```

## 🖥️ ローカル実行

### 要件
- モダンなWebブラウザ（Chrome, Firefox, Safari, Edge）
- ローカルWebサーバー（開発時）

### 起動方法
```bash
# Python使用の場合
python3 -m http.server 8000

# Node.js使用の場合  
npx serve .

# 他のローカルサーバーでも可
```

ブラウザで `http://localhost:8000` にアクセス

## 📱 レスポンシブ対応

- **デスクトップ**: 大画面での最適なレイアウト
- **タブレット**: 中画面向けの調整済みUI
- **スマートフォン**: モバイル最適化、タッチ操作対応

## 🔒 プライバシー・セキュリティ

このアプリケーションはセキュリティ専門家による監査を受け、安全性を確保しています：

### 🛡️ データ保護
- **暗号化保存**: APIキーや設定データは軍事レベルのAES暗号化でブラウザに保存
- **安全な通信**: APIキーはセキュアなHTTPヘッダーで送信、URL漏洩を防止
- **プライベート処理**: すべての画像生成はあなたのブラウザとGoogle AIサーバー間の直接通信

### 🔐 セキュリティ機能
- **XSS攻撃防止**: Content Security Policy (CSP) で悪意あるスクリプト実行をブロック
- **改ざん検出**: 外部ライブラリの整合性チェック (SRI) で安全性を確保
- **情報漏洩防止**: ログやエラー出力から機密情報を自動除外

### 🏆 セキュリティ認定
- **OWASP準拠**: Web セキュリティ業界標準に85%準拠
- **本番環境対応**: エンタープライズレベルのセキュリティ要件をクリア

あなたの大切なデータとプライバシーを最高レベルで保護します。

## 🤖 デモモード

APIキー未設定時は自動的にデモモードが動作：
- ランダムグラデーション背景の画像生成
- プロンプト内容のテキスト表示
- 実際のAI機能の体験なしでのUI確認

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🙏 謝辞

- **Google Gemini**: 高品質な画像生成AI
- **Claude Code**: 開発アシスタント

---

**🤖 Generated with [Claude Code](https://claude.ai/code)**

**Co-Authored-By: Claude <noreply@anthropic.com>**