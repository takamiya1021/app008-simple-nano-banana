# AI画像生成ツール 仕様書

## 概要
シンプルなAI画像生成インターフェース。プロンプト入力と参考画像で画像を生成する。

## アプリケーション名
**AI Image Generator** (nano-banana)

## 主要機能

### 1. API設定
- **APIキー入力**: テキストボックスでAPIキーを設定
- **設定済み表示**: APIキー保存済みの場合「✓ 設定済み」バッジを表示
- **モデル選択**: 固定でGemini 2.5 Flash Image (nano-banana)を使用
- **設定保存**: LocalStorageに設定を保存
- **自動読み込み**: 次回起動時に設定を自動復元

### 2. プロンプト入力
- **テキストエリア**: 生成したい画像の説明を入力
- **文字数カウンター**: 入力文字数の表示
- **履歴機能**: 過去のプロンプトを再利用

### 3. 参考画像入力
- **ファイル選択**: ドラッグ&ドロップまたはクリックで画像選択
- **プレビュー表示**: 選択した画像のプレビュー
- **削除機能**: 選択した画像を削除

### 4. 結果表示
- **生成画像表示**: 生成された画像の表示
- **ダウンロード機能**: 生成画像をダウンロード
- **再生成ボタン**: 同じ設定で再度生成
- **フォールバック機能**: API未設定時はデモ画像を生成

## 技術仕様

### フロントエンド
- **HTML5**: シンプルな構造
- **CSS3**: モダンなUI、レスポンシブ対応
- **JavaScript (ES6+)**: 非同期処理、DOM操作
- **File API**: 画像ファイル読み込み
- **LocalStorage**: 設定データ保存

### API連携
- **Fetch API**: 外部AI API との通信
- **Base64エンコード**: 画像データの送信
- **エラーハンドリング**: API エラーの処理

## ファイル構造

```
ai-image-generator/
├── index.html              # メインHTML
├── css/
│   └── style.css          # スタイルシート
├── js/
│   └── app.js            # メインアプリケーション
└── README.md             # 使用方法
```

## UI設計

```
┌─────────────────────────────────────────┐
│ AI Image Generator                       │
├─────────────────────────────────────────┤
│ API設定                                  │
│ APIキー: [________________] ✓設定済み [保存] │
│ モデル:  Gemini 2.5 Flash Image (nano-banana) │
├─────────────────────────────────────────┤
│ プロンプト入力                            │
│ ┌─────────────────────────────────────┐  │
│ │                                   │  │
│ │  画像の説明を入力してください...        │  │
│ │                                   │  │
│ └─────────────────────────────────────┘  │
│ 文字数: 0/500                           │
├─────────────────────────────────────────┤
│ 参考画像                                 │
│ ┌─────────────────────────────────────┐  │
│ │  ドラッグ&ドロップまたはクリック        │  │
│ │  して画像を選択                       │  │
│ └─────────────────────────────────────┘  │
├─────────────────────────────────────────┤
│          [生成開始] [設定リセット]         │
├─────────────────────────────────────────┤
│ 結果                                    │
│ ┌─────────────────────────────────────┐  │
│ │                                   │  │
│ │      生成画像表示エリア              │  │
│ │                                   │  │
│ └─────────────────────────────────────┘  │
│      [ダウンロード] [再生成]              │
└─────────────────────────────────────────┘
```